{"version":3,"sources":["src/es6-modules/loader.js"],"names":[],"mappings":"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","file":"src/es6-modules/loader.js","sourcesContent":["\r\nimport * as dom from '../dom';\r\nimport * as types from '../types';\r\n\r\nvar global = window;\r\n\r\n/**\r\n * Loading message/spinner\r\n * @param {Object} tf TableFilter instance\r\n */\r\nexport class Loader{\r\n\r\n    constructor(tf){\r\n\r\n        // TableFilter configuration\r\n        var f = tf.fObj;\r\n        //id of container element\r\n        tf.loaderTgtId = f.loader_target_id || null;\r\n        //div containing loader\r\n        tf.loaderDiv = null;\r\n        //defines loader text\r\n        tf.loaderText = f.loader_text || 'Loading...';\r\n        //defines loader innerHtml\r\n        tf.loaderHtml = f.loader_html || null;\r\n        //defines css class for loader div\r\n        tf.loaderCssClass = f.loader_css_class || 'loader';\r\n        //delay for hiding loader\r\n        tf.loaderCloseDelay = 200;\r\n        //callback function before loader is displayed\r\n        tf.onShowLoader = types.isFn(f.on_show_loader) ?\r\n            f.on_show_loader : null;\r\n        //callback function after loader is closed\r\n        tf.onHideLoader = types.isFn(f.on_hide_loader) ?\r\n            f.on_hide_loader : null;\r\n\r\n        this.tf = tf;\r\n\r\n        var containerDiv = dom.create('div', ['id', tf.prfxLoader+tf.id]);\r\n        containerDiv.className = tf.loaderCssClass;\r\n\r\n        var targetEl = !tf.loaderTgtId ?\r\n            (tf.gridLayout ? tf.tblCont : tf.tbl.parentNode) :\r\n            dom.id(tf.loaderTgtId);\r\n        if(!tf.loaderTgtId){\r\n            targetEl.insertBefore(containerDiv, tf.tbl);\r\n        } else {\r\n            targetEl.appendChild(containerDiv);\r\n        }\r\n        tf.loaderDiv = dom.id(tf.prfxLoader+tf.id);\r\n        if(!tf.loaderHtml){\r\n            tf.loaderDiv.appendChild(dom.text(tf.loaderText));\r\n        } else {\r\n            tf.loaderDiv.innerHTML = tf.loaderHtml;\r\n        }\r\n    }\r\n\r\n    show(p) {\r\n        if(!this.tf.loader || !this.tf.loaderDiv ||\r\n            this.tf.loaderDiv.style.display===p){\r\n            return;\r\n        }\r\n        var o = this.tf;\r\n\r\n        function displayLoader(){\r\n            if(!o.loaderDiv){\r\n                return;\r\n            }\r\n            if(o.onShowLoader && p!=='none'){\r\n                o.onShowLoader.call(null, o);\r\n            }\r\n            o.loaderDiv.style.display = p;\r\n            if(o.onHideLoader && p==='none'){\r\n                o.onHideLoader.call(null, o);\r\n            }\r\n        }\r\n\r\n        var t = p==='none' ? this.tf.loaderCloseDelay : 1;\r\n        global.setTimeout(displayLoader, t);\r\n    }\r\n\r\n    remove(){\r\n        if(!this.tf.loaderDiv){\r\n            return;\r\n        }\r\n        var targetEl = !this.tf.loaderTgtId ?\r\n            (this.tf.gridLayout ? this.tf.tblCont : this.tf.tbl.parentNode):\r\n            dom.id(this.tf.loaderTgtId);\r\n        targetEl.removeChild(this.tf.loaderDiv);\r\n        this.tf.loaderDiv = null;\r\n    }\r\n}\r\n"]}