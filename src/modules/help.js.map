{"version":3,"sources":["src-es6/modules/help.js"],"names":[],"mappings":";;;;;;;;MAAQ,GAAG,QAAH,GAAG;MACH,KAAK,UAAL,KAAK;MAEA,IAAI;QAAJ,IAAI,GAMF,SANF,IAAI,CAMD,EAAE,EAAC;;AAEX,UAAI,CAAC,GAAG,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;;;AAGtB,UAAI,CAAC,cAAc,GAAG,CAAC,CAAC,2BAA2B,IAAI,IAAI,CAAC;;AAE5D,UAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC,qCAAqC,IAC7D,IAAI,CAAC;;AAET,UAAI,CAAC,aAAa,GAAG,CAAC,CAAC,sBAAsB,GACzC,CAAC,CAAC,sBAAsB,GACxB,8DAA8D,GAC9D,iEAAiE,GACjE,2DAA2D,GAC3D,kEAAkE,GAClE,kEAAkE,GAClE,2DAA2D,GAC3D,oDAAkD,GAClD,kEAAgE,CAAC;;AAErE,UAAI,CAAC,aAAa,GAAG,CAAC,CAAC,sBAAsB,IAAI,IAAI,CAAC;;AAEtD,UAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,0BAA0B,IAAI,GAAG,CAAC;;AAE5D,UAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,0BAA0B,IAAI,IAAI,CAAC;;AAE7D,UAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,+BAA+B,IACzD,SAAS,CAAC;;AAEd,UAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,qCAAqC,IAChE,UAAU,CAAC;;AAEf,UAAI,CAAC,cAAc,GAAG,IAAI,CAAC;;AAE3B,UAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,UAAI,CAAC,oBAAoB,GAAG,2CAAyC,GACjE,sBAAsB,GAAE,EAAE,CAAC,OAAO,GAAE,OAAO,GAC3C,2DAAuD,GACvD,qCAAqC,GACrC,mBAAmB,GAAE,EAAE,CAAC,IAAI,GAAE,wBAAwB,GACtD,kDAA8C,GAC9C,uDAAqD,CAAC;;AAE1D,UAAI,CAAC,EAAE,GAAG,EAAE,CAAC;KAChB;;gBAnDQ,IAAI;AAqDb,UAAI;;eAAA,YAAE;;AACF,cAAG,IAAI,CAAC,cAAc,EAAC;AACnB,mBAAO;WACV;;AAED,cAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;;AAEjB,cAAI,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,EAAC,CAAC,IAAI,EAAE,EAAE,CAAC,YAAY,GAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAChE,cAAI,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,IAAI,EAAE,EAAE,CAAC,WAAW,GAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;;AAG7D,cAAG,CAAC,IAAI,CAAC,cAAc,EAAC;AACpB,cAAE,CAAC,SAAS,EAAE,CAAC;WAClB;AACD,cAAI,QAAQ,GAAG,CAAC,IAAI,CAAC,cAAc,GAC/B,EAAE,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC1C,kBAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;AAE/B,cAAI,YAAY,GAAG,CAAC,IAAI,CAAC,kBAAkB,GACnC,QAAQ,GAAG,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;;AAEnD,cAAG,CAAC,IAAI,CAAC,gBAAgB,EAAC;AACtB,wBAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;AAClC,gBAAI,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC,CAAC;AAChE,oBAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC;AAC/C,oBAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACtD,oBAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AAC/B,iBAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,YAAM;AAAE,oBAAK,MAAM,EAAE,CAAC;aAAE,CAAC,CAAC;WAC1D,MAAM;AACH,oBAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC;AAC3C,gBAAI,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC;AACjC,iBAAK,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,YAAM;AAAE,oBAAK,MAAM,EAAE,CAAC;aAAE,CAAC,CAAC;AACrD,wBAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;WACrC;;AAED,cAAG,CAAC,IAAI,CAAC,aAAa,EAAC;AACnB,mBAAO,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;AACvC,mBAAO,CAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC;AAC/C,iBAAK,CAAC,GAAG,CAAC,OAAO,EAAE,UAAU,EAAE,YAAM;AAAE,oBAAK,MAAM,EAAE,CAAC;aAAE,CAAC,CAAC;WAC5D,MAAM;AACH,gBAAG,IAAI,CAAC,kBAAkB,EAAC;AACvB,0BAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aACrC;AACD,mBAAO,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;AACvC,gBAAG,CAAC,IAAI,CAAC,kBAAkB,EAAC;AACxB,qBAAO,CAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC;AAC/C,mBAAK,CAAC,GAAG,CAAC,OAAO,EAAE,UAAU,EAAE,YAAM;AAAE,sBAAK,MAAM,EAAE,CAAC;eAAE,CAAC,CAAC;aAC5D;WACJ;AACD,iBAAO,CAAC,SAAS,IAAI,IAAI,CAAC,oBAAoB,CAAC;AAC/C,eAAK,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,YAAM;AAAE,kBAAK,MAAM,EAAE,CAAC;WAAE,CAAC,CAAC;;AAEtD,cAAI,CAAC,eAAe,GAAG,OAAO,CAAC;AAC/B,cAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;SAClC;;AAKD,YAAM;;eAAA,YAAE;AACJ,cAAG,CAAC,IAAI,CAAC,eAAe,EAAC;AACrB,mBAAO;WACV;AACD,cAAI,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,CAAC;AACpD,cAAG,UAAU,KAAG,EAAE,IAAI,UAAU,KAAG,MAAM,EAAC;AACtC,gBAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;;AAE7C,gBAAI,OAAO,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC;AACrD,gBAAG,CAAC,IAAI,CAAC,kBAAkB,EAAC;AACxB,kBAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAC3B,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;aAChE;WACJ,MAAM;AACH,gBAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;WAC/C;SACJ;;AAKD,aAAO;;eAAA,YAAE;AACL,cAAG,CAAC,IAAI,CAAC,cAAc,EAAC;AACpB,mBAAO;WACV;AACD,cAAI,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAChE,cAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,cAAG,CAAC,IAAI,CAAC,eAAe,EAAC;AACrB,mBAAO;WACV;AACD,cAAI,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AAClE,cAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;;;;WAhJQ,IAAI;;;UAAJ,IAAI,GAAJ,IAAI","file":"src-es6/modules/help.js","sourcesContent":["import {Dom} from '../dom';\r\nimport {Event} from '../event';\r\n\r\nexport class Help{\r\n\r\n    /**\r\n     * Help UI component\r\n     * @param {Object} tf TableFilter instance\r\n     */\r\n    constructor(tf){\r\n        // Configuration object\r\n        var f = tf.fObj || {};\r\n\r\n        //id of custom container element for instructions\r\n        this.helpInstrTgtId = f.help_instructions_target_id || null;\r\n        //id of custom container element for instructions\r\n        this.helpInstrContTgtId = f.help_instructions_container_target_id ||\r\n            null;\r\n        //defines help text\r\n        this.helpInstrText = f.help_instructions_text  ?\r\n            f.help_instructions_text :\r\n            'Use the filters above each column to filter and limit table ' +\r\n            'data. Avanced searches can be performed by using the following ' +\r\n            'operators: <br /><b>&lt;</b>, <b>&lt;=</b>, <b>&gt;</b>, ' +\r\n            '<b>&gt;=</b>, <b>=</b>, <b>*</b>, <b>!</b>, <b>{</b>, <b>}</b>, ' +\r\n            '<b>||</b>,<b>&amp;&amp;</b>, <b>[empty]</b>, <b>[nonempty]</b>, ' +\r\n            '<b>rgx:</b><br/> These operators are described here:<br/>' +\r\n            '<a href=\"http://tablefilter.free.fr/#operators\" ' +\r\n            'target=\"_blank\">http://tablefilter.free.fr/#operators</a><hr/>';\r\n        //defines help innerHtml\r\n        this.helpInstrHtml = f.help_instructions_html || null;\r\n        //defines reset button text\r\n        this.helpInstrBtnText = f.help_instructions_btn_text || '?';\r\n        //defines reset button innerHtml\r\n        this.helpInstrBtnHtml = f.help_instructions_btn_html || null;\r\n        //defines css class for help button\r\n        this.helpInstrBtnCssClass = f.help_instructions_btn_css_class ||\r\n            'helpBtn';\r\n        //defines css class for help container\r\n        this.helpInstrContCssClass = f.help_instructions_container_css_class ||\r\n            'helpCont';\r\n        //help button element\r\n        this.helpInstrBtnEl = null;\r\n         //help content div\r\n        this.helpInstrContEl = null;\r\n        this.helpInstrDefaultHtml = '<div class=\"helpFooter\"><h4>HTML Table ' +\r\n            'Filter Generator v. '+ tf.version +'</h4>' +\r\n            '<a href=\"http://tablefilter.free.fr\" target=\"_blank\">' +\r\n            'http://tablefilter.free.fr</a><br/>' +\r\n            '<span>&copy;2009-'+ tf.year +' Max Guglielmi.</span>' +\r\n            '<div align=\"center\" style=\"margin-top:8px;\">' +\r\n            '<a href=\"javascript:void(0);\">Close</a></div></div>';\r\n\r\n        this.tf = tf;\r\n    }\r\n\r\n    init(){\r\n        if(this.helpInstrBtnEl){\r\n            return;\r\n        }\r\n\r\n        var tf = this.tf;\r\n\r\n        var helpspan = Dom.create('span',['id', tf.prfxHelpSpan+tf.id]);\r\n        var helpdiv = Dom.create('div',['id', tf.prfxHelpDiv+tf.id]);\r\n\r\n        //help button is added to defined element\r\n        if(!this.helpInstrTgtId){\r\n            tf.SetTopDiv();\r\n        }\r\n        var targetEl = !this.helpInstrTgtId ?\r\n            tf.rDiv : Dom.id(this.helpInstrTgtId);\r\n        targetEl.appendChild(helpspan);\r\n\r\n        var divContainer = !this.helpInstrContTgtId ?\r\n                helpspan : Dom.id(this.helpInstrContTgtId);\r\n\r\n        if(!this.helpInstrBtnHtml){\r\n            divContainer.appendChild(helpdiv);\r\n            var helplink = Dom.create('a', ['href', 'javascript:void(0);']);\r\n            helplink.className = this.helpInstrBtnCssClass;\r\n            helplink.appendChild(Dom.text(this.helpInstrBtnText));\r\n            helpspan.appendChild(helplink);\r\n            Event.add(helplink, 'click', () => { this.toggle(); });\r\n        } else {\r\n            helpspan.innerHTML = this.helpInstrBtnHtml;\r\n            var helpEl = helpspan.firstChild;\r\n            Event.add(helpEl, 'click', () => { this.toggle(); });\r\n            divContainer.appendChild(helpdiv);\r\n        }\r\n\r\n        if(!this.helpInstrHtml){\r\n            helpdiv.innerHTML = this.helpInstrText;\r\n            helpdiv.className = this.helpInstrContCssClass;\r\n            Event.add(helpdiv, 'dblclick', () => { this.toggle(); });\r\n        } else {\r\n            if(this.helpInstrContTgtId){\r\n                divContainer.appendChild(helpdiv);\r\n            }\r\n            helpdiv.innerHTML = this.helpInstrHtml;\r\n            if(!this.helpInstrContTgtId){\r\n                helpdiv.className = this.helpInstrContCssClass;\r\n                Event.add(helpdiv, 'dblclick', () => { this.toggle(); });\r\n            }\r\n        }\r\n        helpdiv.innerHTML += this.helpInstrDefaultHtml;\r\n        Event.add(helpdiv, 'click', () => { this.toggle(); });\r\n\r\n        this.helpInstrContEl = helpdiv;\r\n        this.helpInstrBtnEl = helpspan;\r\n    }\r\n\r\n    /**\r\n     * Toggle help pop-up\r\n     */\r\n    toggle(){\r\n        if(!this.helpInstrContEl){\r\n            return;\r\n        }\r\n        var divDisplay = this.helpInstrContEl.style.display;\r\n        if(divDisplay==='' || divDisplay==='none'){\r\n            this.helpInstrContEl.style.display = 'block';\r\n            // TODO: use CSS instead for element positioning\r\n            var btnLeft = Dom.position(this.helpInstrBtnEl).left;\r\n            if(!this.helpInstrContTgtId){\r\n                this.helpInstrContEl.style.left =\r\n                    (btnLeft - this.helpInstrContEl.clientWidth + 25) + 'px';\r\n            }\r\n        } else {\r\n            this.helpInstrContEl.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove help UI\r\n     */\r\n    destroy(){\r\n        if(!this.helpInstrBtnEl){\r\n            return;\r\n        }\r\n        this.helpInstrBtnEl.parentNode.removeChild(this.helpInstrBtnEl);\r\n        this.helpInstrBtnEl = null;\r\n        if(!this.helpInstrContEl){\r\n            return;\r\n        }\r\n        this.helpInstrContEl.parentNode.removeChild(this.helpInstrContEl);\r\n        this.helpInstrContEl = null;\r\n    }\r\n\r\n}\r\n"]}