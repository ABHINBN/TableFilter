function tf_CreateCheckItem(e,t,n){if(e==undefined||t==undefined||n==undefined)return;var r=tf_CreateElm("li"),i=tf_CreateElm("label",["for",e]),s=tf_CreateElm("input",["id",e],["name",e],["type","checkbox"],["value",t]);return i.appendChild(s),i.appendChild(tf_CreateText(n)),r.appendChild(i),r.label=i,r.check=s,r}TF.prototype.PopulateCheckList=function(e,t,n){this.EvtManager(this.Evt.name.populatechecklist,{slcIndex:e,slcExternal:t,slcId:n})},TF.prototype._PopulateCheckList=function(e,t,n){function S(){var t=1,n=tf_CreateCheckItem(o.fltIds[e]+"_0","",o.displayAllText);n.className=o.checkListItemCssClass,s.appendChild(n),n.check.onclick=function(e){o.__setCheckListValues(this),s.onchange.call(null,e)},o.enableCheckListResetFilter||(n.style.display="none"),tf_isIE&&(n.label.onclick=function(){n.check.click()});if(o.enableEmptyOption){var r=tf_CreateCheckItem(o.fltIds[e]+"_1",o.emOperator,o.emptyText);r.className=o.checkListItemCssClass,s.appendChild(r),r.check.onclick=function(e){o.__setCheckListValues(this),s.onchange.call(null,e)},tf_isIE&&(r.label.onclick=function(){r.check.click()}),t++}if(o.enableNonEmptyOption){var i=tf_CreateCheckItem(o.fltIds[e]+"_2",o.nmOperator,o.nonEmptyText);i.className=o.checkListItemCssClass,s.appendChild(i),i.check.onclick=function(e){o.__setCheckListValues(this),s.onchange.call(null,e)},tf_isIE&&(i.label.onclick=function(){i.check.click()}),t++}return t}function x(t){var n=S(),r=[],i=[],u=tf_CookieValueByIndex(o.fltsValuesCookie,e,t);u!=undefined&&u.tf_Trim().length>0&&(o.hasCustomSlcOptions&&o.customSlcOptions.cols.tf_Has(e)?i.push(u):i=u.split(" "+o.orOperator+" "));for(var c=0;c<a.length;c++){var p=a[c],d=f?l[c]:p,v=tf_CreateCheckItem(o.fltIds[e]+"_"+(c+n),p,d);v.className=o.checkListItemCssClass,o.refreshFilters&&o.disableExcludedOptions&&h.tf_Has(p.tf_MatchCase(o.matchCase),o.matchCase)?(tf_AddClass(v,o.checkListItemDisabledCssClass),v.check.disabled=!0,v.disabled=!0):v.check.onclick=function(e){o.__setCheckListValues(this),s.onchange.call(null,e)},s.appendChild(v),p==""&&(v.style.display="none"),o.rememberGridValues&&(o.hasCustomSlcOptions&&o.customSlcOptions.cols.tf_Has(e)&&i.toString().indexOf(p)!=-1||i.tf_Has(p.tf_MatchCase(o.matchCase),o.matchCase))&&(v.check.checked=!0,o.__setCheckListValues(v.check)),tf_isIE&&(v.label.onclick=function(){this.firstChild.click()})}}t=t==undefined?!1:t;var r=this.prfxCheckListDiv+e+"_"+this.id;if(tf_Id(r)==null&&!t)return;if(tf_Id(n)==null&&t)return;var i=t?tf_Id(n):this.checkListDiv[e],s=tf_CreateElm("ul",["id",this.fltIds[e]],["colIndex",e]);s.className=this.checkListCssClass,s.onchange=this.Evt._OnCheckListChange;var o=this,u=this.tbl.rows,a=[],f=this.hasCustomSlcOptions&&this.customSlcOptions.cols.tf_Has(e),l=[],c;this.refreshFilters&&this.activeFilterId&&(c=this.activeFilterId.split("_")[0],c=c.split(this.prfxFlt)[1]);var h=null,p=null;this.refreshFilters&&this.disableExcludedOptions&&(h=[],p=[]);for(var d=this.refRow;d<this.nbRows;d++){if(this.hasVisibleRows&&this.visibleRows.tf_Has(d)&&!this.paging)continue;var v=u[d].cells,m=v.length;if(m==this.nbCells&&!f)for(var g=0;g<m;g++)if(e==g&&(!this.refreshFilters||this.refreshFilters&&this.disableExcludedOptions)||e==g&&this.refreshFilters&&(u[d].style.display==""&&!this.paging||this.paging&&(c==undefined||c==e||c!=e&&this.validRowsIndex.tf_Has(d)))){var y=this.GetCellData(g,v[g]),b=y.tf_MatchCase(this.matchCase);a.tf_Has(b,this.matchCase)||a.push(y),this.refreshFilters&&this.disableExcludedOptions&&(p[g]||(p[g]=this.GetFilteredDataCol(g)),!p[g].tf_Has(b,this.matchCase)&&!h.tf_Has(b,this.matchCase)&&!this.isFirstLoad&&h.push(y))}}if(f){var w=this.__getCustomValues(e);a=w[0],l=w[1]}this.sortSlc&&!f&&(this.matchCase?(a.sort(),h&&h.sort()):(a.sort(tf_IgnoreCaseSort),h&&h.sort(tf_IgnoreCaseSort)));if(this.sortNumAsc&&this.sortNumAsc.tf_Has(e))try{a.sort(tf_NumSortAsc),h&&h.sort(tf_NumSortAsc),f&&l.sort(tf_NumSortAsc)}catch(E){a.sort(),h&&h.sort(),f&&l.sort()}if(this.sortNumDesc&&this.sortNumDesc.tf_Has(e))try{a.sort(tf_NumSortDesc),h&&h.sort(tf_NumSortDesc),f&&l.sort(tf_NumSortDesc)}catch(E){a.sort(),h&&h.sort(),f&&l.sort()}x(this.separator),this.fillSlcOnDemand&&(i.innerHTML=""),i.appendChild(s),i.setAttribute("filled","1");if(o.rememberGridValues&&tf_isIE){var T=s.getAttribute("indexes");if(T!=null){var N=T.split(",");for(var C=0;C<N.length;C++){var k=tf_Id(this.fltIds[e]+"_"+N[C]);k&&(k.checked=!0)}}}},TF.prototype.__setCheckListValues=function(e){if(e==null)return;var t=e.value,n=parseInt(e.id.split("_")[2]),r="ul",i="li",s=e;while(s.nodeName.tf_LCase()!=r)s=s.parentNode;if(s.nodeName.tf_LCase()!=r)return;var o=s.childNodes[n],u=s.getAttribute("colIndex"),a=s.getAttribute("value"),f=s.getAttribute("indexes");if(e.checked){if(t==""){if(f!=null&&f!=""){var l=f.split(this.separator);for(var c=0;c<l.length;c++){var h=tf_Id(this.fltIds[u]+"_"+l[c]);h&&(h.checked=!1,tf_RemoveClass(s.childNodes[l[c]],this.checkListSlcItemCssClass))}}s.setAttribute("value",""),s.setAttribute("indexes","")}else a=a?a:"",t=(a+" "+t+" "+this.orOperator).tf_Trim(),n=f+n+this.separator,s.setAttribute("value",t),s.setAttribute("indexes",n),tf_Id(this.fltIds[u]+"_0")&&(tf_Id(this.fltIds[u]+"_0").checked=!1);o.nodeName.tf_LCase()==i&&(tf_RemoveClass(s.childNodes[0],this.checkListSlcItemCssClass),tf_AddClass(o,this.checkListSlcItemCssClass))}else{if(t!=""){var p=new RegExp(tf_RegexpEscape(t+" "+this.orOperator));a=a.replace(p,""),s.setAttribute("value",a.tf_Trim());var d=new RegExp(tf_RegexpEscape(n+this.separator));f=f.replace(d,""),s.setAttribute("indexes",f)}o.nodeName.tf_LCase()==i&&tf_RemoveClass(o,this.checkListSlcItemCssClass)}};